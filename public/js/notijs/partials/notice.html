<div ng-controller="NoticeController" class="panel panel-default">
    <div class="panel-heading">
        <i class="fa fa-bell fa-fw"></i> Últimas notificaciones
        <span ng-show="unread > 0" class="pull-right badge">{{ unread }} sin leer</span>
    </div>
    <div class="panel-body">
        <div class="list-group">
            <div ng-repeat="notice in notices" class="list-group-item ng-class: { 'unread': notice.read == false }">
                <span class="pointer" ng-click="go(notice)">
                    <img ng-src="{{ notice.img }}" class="img-rounded notice-img"/>
                    <strong>{{ notice.title }}</strong> {{ notice.body }}
                </span>
                <span class="pull-right notice-options">
                    <button ng-click="markAsRead(notice)" ng-hide="notice.read" type="button" class="btn btn-default btn-xs"><i class="fa fa-check"></i></button>
                    <button ng-click="delete(notice)" type="button" class="btn btn-default btn-xs"><i class="fa fa-times"></i></button>
                </span>
                <span class="pull-right text-muted small"><em>{{ notice.datetime | date:'yyyy-MM-dd HH:mm:ss' }}</em></span>
            </div>
        </div>
        <a ng-click="seeAllNotices()" class="btn btn-default btn-block pointer">Ver todas</a>
        <a ng-click="markAllAsRead()" class="btn btn-default btn-block pointer">Marcar todas como leídas</a>
        <a ng-click="deleteAll()" class="btn btn-default btn-block pointer">Eliminar todas</a>
    </div>
</div>